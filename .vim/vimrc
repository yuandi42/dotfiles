 " _   _ ________  ___
" | | | |_   _|  \/  |
" | | | | | | | .  . |
" | | | | | | | |\/| |
" \ \_/ /_| |_| |  | |
 " \___/ \___/\_|  |_/

"" TODO: add start plugin: smoothie, ALE maybe?
""  add opt plugins for markdown, python and sxhkd;
""  add auto pair, set auto complete. 
""  add a description guide for which-key.

"" Gernal setting
set nocompatible
set number relativenumber
set clipboard=unnamedplus
set encoding=utf-8
set mouse=a
set scrolloff=5

" eyecandies maybe
set showmatch
set showcmd
set wildmenu
syntax on

" search setting
set hlsearch
set incsearch
set ignorecase
set smartcase
set shortmess-=S

" buffer and split
set hidden
set splitbelow
set splitright

" indent setting
set smartindent
set expandtab
set tabstop=4
set shiftwidth=4

" folding setting
set fdm=indent
set foldlevel=99

" filetype setting
filetype plugin on

" enable mouse in alacritty
set ttymouse=sgr

" change cursor in different mode
let &t_SI = "\e[6 q"
let &t_EI = "\e[2 q"

" set ture colors
if exists('+termguicolors')
    let &t_8f="\<Esc>[38;2;%lu;%lu;%lum"
    let &t_8b="\<Esc>[48;2;%lu;%lu;%lum"
    set termguicolors
endif

" remap space as leader key
nnoremap <space> <Nop>
let mapleader=" "

" clear hlsearch
nnoremap <silent> <esc><esc> :noh<CR>

" use Enter in normal mode
nnoremap <silent> <CR> i<CR><Esc>

" save my wrists!
noremap <leader>u <c-u>
noremap <leader>d <c-d>
noremap <leader>o <c-o>
noremap <leader>i <c-i>

" keybindings for tabs
noremap <leader>w <c-w>

" keybindings for buffers
noremap <silent> <leader>bj :bp<CR>
noremap <silent> <leader>bk :bn<CR>
noremap <silent> <leader>bh :bf<CR>
noremap <silent> <leader>bl :bl<CR>
noremap <leader>bd :bd<CR>
noremap <leader>bb :ls<CR>:b<space>

" keybings for terminal
noremap <leader>t :term<CR>

"" Start plug-ins setting
" gruvbox
set background=dark
let g:gruvbox_italic=1
let g:gruvbox_transparent_bg=1
colorscheme gruvbox
highlight! Normal ctermbg=NONE guibg=NONE

" airline
set noshowmode
let g:airline_powerline_fonts = 1
let g:airline#extensions#tabline#enabled = 1
" airline themes
let g:airline_theme='base16_gruvbox_dark_hard'

" NERDTree
let NERDTreeBookmarksFile = expand("$HOME/.vim/NERDTreeBookmarks")
let NERDTreeShowHidden = 1
nnoremap <silent> <leader>ft :NERDTreeToggle<CR>
nnoremap <silent> <leader>fc :NERDTreeCWD<CR>
nnoremap <silent> <leader>fv :NERDTreeToggleVCS<CR>
nnoremap <leader>ff :NERDTreeFind<space>
nnoremap <leader>fm :NERDTreeFromBookmark<space>
" nerdtree-visual-selection
let g:nerdtree_vis_confirm_open = 0
let g:nerdtree_vis_confirm_copy = 0
let g:nerdtree_vis_confirm_move = 0

" nerdcommenter
let g:NERDSpaceDelims = 1

" startify
noremap <leader>bs :Startify<CR>
let g:startify_bookmarks = systemlist("cut -sd' ' -f 2- $HOME/.vim/NERDTreeBookmarks")
let g:startify_lists = [
        \ { 'type': 'bookmarks', 'header': ['   Bookmarks']      },
        \ { 'type': 'sessions',  'header': ['   Sessions']       },
        \ { 'type': 'files',     'header': ['   MRU']            },
        \ { 'type': 'commands',  'header': ['   Commands']       },
        \ ]

" which-key
set timeoutlen=500
nnoremap <silent> <leader> :WhichKey '<Space>'<CR>
let g:which_key_use_floating_win = 1
