#!/bin/sh
# Prints the current volume.
# SIGNAL 3

case $BLOCK_BUTTON in
    1) pamixer --toggle-mute;;
    2) setsid -f "$TERMINAL" -e "$EDITOR" "$0" >/dev/null 2>&1 &;;
    3) setsid -f "$TERMINAL" -e "pulsemixer" >/dev/null 2>&1 &;;
    4) pamixer --allow-boost -i 5 ;;
    5) pamixer --allow-boost -d 5 ;;
esac

color=#d3869b
[ $(pamixer --get-mute) = true ] && sb-show $color '' 'OFF' && exit
vol="$(pamixer --get-volume)"
if [ "$vol" -gt "50" ]; then
    icon=''
elif [ "$vol" -gt "15" ]; then
    icon=''
elif [ "$vol" -ge "0" ]; then
    icon=''
else
    sb-show $color '' 'OFF' && exit
fi
sb-show $color $icon  $vol%% && exit
