#!/bin/sh
# SIGNAL 4
# known issue: newsboat -x reload doosn't work correctly when running
# rssup by right-click.

case $BLOCK_BUTTON in 
    1) "$TERMINAL" -t "rss" -e "newsboat" >/dev/null 2>&1;;
    2) setsid -f "$TERMINAL" -e "$EDITOR" "$0" >/dev/null 2>&1 &;;
    # 3) setsid -f rssup > /dev/null 2>&1 &;;
    3) setsid -f rssup > "$HOME/.cache/rssuplog" 2>&1 &;;
esac

color=#458588
[ -f /tmp/newsupdate ] && sb-show $color 'ï¢” ' 'ðŸ”„' && exit
unread=$(newsboat -x print-unread | cut -d' ' -f 1)
[ $unread -eq 0 ] && sb-show $color 'ï¢” ' 'âœ“' && exit
sb-show $color 'ï¢” ' $unread

