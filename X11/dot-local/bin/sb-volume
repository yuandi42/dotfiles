#!/bin/sh
# Prints the current volume.
# SIGNAL 3

case $BLOCK_BUTTON in
    1) pamixer --toggle-mute;;
    2) setsid -f "$TERMINAL" -e "$EDITOR" "$0" >/dev/null 2>&1 &;;
    3) setsid -f "$TERMINAL" -e "pulsemixer" >/dev/null 2>&1 &;;
    4) pamixer --allow-boost -i 5 ;;
    5) pamixer --allow-boost -d 5 ;;
esac

[ "$(pamixer --get-mute)" = true ] && printf "ðŸ”‡: OFF" && exit
vol="$(pamixer --get-volume)"
if [ "$vol" -ge "100" ]; then
    printf "ðŸ”Š: MAX" && exit
elif [ "$vol" -ge "50" ]; then
    icon='ðŸ”Š'
elif [ "$vol" -ge "10" ]; then
    icon='ðŸ”‰'
elif [ "$vol" -ge "0" ]; then
    icon='ðŸ”ˆ'; vol="0$vol"
else
    printf "ðŸ”‡: OFF" && exit
fi
printf "%s: %s%%" "$icon" "$vol"
